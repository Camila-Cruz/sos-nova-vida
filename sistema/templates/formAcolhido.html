<!-- <script src="../static/src/js/main.js"></script> -->
{% extends 'menu.html'%}
{% load staticfiles %}
{% load widget_tweaks %}

{% block content %}
    <h1>Cadastro de Acolhidos</h1>
    <hr><br>
    <form enctype="multipart/form-data" action="post_acolhido/" method="post" class="form-horizontal" name='form'>
        {% csrf_token %}
        {{ form.non_field_errors }}
        <label class="col-md-10 col-md-offset-1"><h3>Dados pessoais</h3><hr></label>
        <div class="form-group">
            {{ form.nome.errors }}
            <label for="{{ form.nome.id_for_label }}" class="col-md-2 col-md-offset-1">Nome completo</label>
            <div class="col-md-8">
                {% render_field form.nome class+="form-control" %}<br>
                <!--<input type="text" ng-model='acolhido.nome' class="form-control">-->
            </div>
        </div>

        <div class="form-group">
            {{ form.data_nasc.errors }}
            <label for="{{ form.data_nasc.id_for_label }}" class="col-md-2 col-md-offset-1">Data de nascimento</label>
            <div class="col-md-3">
                {% render_field form.data_nasc class+="form-control" type="date" %}
            </div>

            {{ form.data_entrada.errors }}
            <label for="{{ form.data_entrada.id_for_label }}" class="col-md-2">Data de entrada</label>
            <div class="col-md-3">
                {% render_field form.data_entrada class+="form-control" type="date" %}<br>
            </div>
        </div>

        <div class="form-group">
            {{ form.cid_natal.errors }}
            <label for="{{ form.cid_natal.id_for_label }}" class="col-md-2 col-md-offset-1">Cidade natal</label>
            <div class="col-md-5">
                {% render_field form.cid_natal class+="form-control" %}
            </div>

            {{ form.uf.errors }}
            <label for="{{ form.uf.id_for_label }}" class="col-md-1">UF</label>
            <div class="col-md-2">
                {% render_field form.uf class+="form-control" %}
                <br>
            </div>
        </div>

        <div class="form-group">    <!-- Analisar o maxlength na model e a interferência dele aqui -->
            {{ form.cpf.errors }}
            <label for="{{ form.cpf.id_for_label }}" class="col-md-2 col-md-offset-1">CPF</label>
            <div class="col-md-3">
                {% render_field form.cpf class+="form-control input-cpf" %}
            </div>

            {{ form.rg.errors }}
            <label for="{{ form.rg.id_for_label }}" class="col-md-1">RG</label>
            <div class="col-md-2">
                {% render_field form.rg class+="form-control" %}
            </div>

            <!-- Órgão emissor -->
            {{ form.ssp.errors }}
            <label for="{{ form.ssp.id_for_label }}" class="col-md-1">SSP</label>
            <div class="col-md-1">
                {% render_field form.ssp class+="form-control" %}
            </div>
        </div><br>

        <div class="form-group">
            {{ form.nome_mae.errors }}
            <label for="{{ form.nome_mae.id_for_label }}" class="col-md-2 col-md-offset-1">Nome da mãe</label>
            <div class="col-md-8">
                <div class="input-group">
                    {% render_field form.nome_mae class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form.nome_pai.errors }}
            <label for="{{ form.nome_pai.id_for_label }}" class="col-md-2 col-md-offset-1">Nome do pai</label>
            <div class="col-md-8">
                <div class="input-group">
                    {% render_field form.nome_pai class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form.nome_resp.errors }}
            <label for="{{ form.nome_resp.id_for_label }}" class="col-md-2 col-md-offset-1">Nome do responsável</label>
            <div class="col-md-5">
                <div class="input-group">
                    {% render_field form.nome_resp class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>

            {{ form.grau_resp.errors }}
            <label for="{{ form.grau_resp.id_for_label }}" class="col-md-1">Parentesco</label>
            <div class="col-md-2">
                {% render_field form.grau_resp class="form-control" %}
                
            </div>
        </div><br>

        <!-- Não esquecer de adicionar cada campo no forms.py, senão não aparece na tela -->

        <div class="form-group">
            {{ form.renda.errors }}
            <label for="{{ form.renda.id_for_label }}" class="col-md-2 col-md-offset-1">Renda mensal</label>
            <div class="col-md-3">
                <div class="input-group">
                    <span class="input-group-addon">R$</span>{% render_field form.renda class+="form-control" %}
                </div>
            </div>

            <label class="col-md-1 col-md-offset-1">Sexo</label>
            <div class="col-md-3"> <!-- colocar input group -->
                <input type="radio" name="radioSexo">&nbsp;
                <label> Feminino</label>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="radioSexo">&nbsp;
                <label> Masculino</label>
            </div>
        </div>

        <label class="col-md-10 col-md-offset-1"><h3>Vestimentas</h3><hr></label>
        <div class="form-group">
            <!--{{ form.camiseta.errors }}-->
            <label for="{{ form.camiseta.id_for_label }}" class="col-md-1 col-md-offset-1">Camiseta</label>
            <!--<div class="col-md-1">
                {% render_field form.camiseta class+="form-control" %}
                <input type='text' ng-model='acolhido.tamCamiseta' class='form-control'>
            </div>-->
            {{ form.calca.errors }}
            <label for="{{ form.calca.id_for_label }}" class="col-md-1">Calça</label>
            <div class="col-md-1">
                {% render_field form.calca class+="form-control" %}
                <input type='text' ng-model='acolhido.tamCalca' class='form-control'>
            </div>
            {{ form.intima.errors }}
            <label for="{{ form.intima.id_for_label }}" class='col-md-2'>Roupa íntima</label>
            <div class='col-md-1'>
                {% render_field form.intima class+="form-control" %}
                <input type='text' ng-model='acolhido.tamIntima' class='form-control'>
            </div>
            {{ form.calcado.errors }}
            <label for="{{ form.calcado.id_for_label }}" class='col-md-1'>Calçado</label>
            <div class='col-md-1'>
                {% render_field form.calcado class+="form-control" %}
                <input type='text' ng-model='acolhido.tamSapato' class='form-control'>
            </div>
        </div>

        <div class="form-group">
            <div class="row text-center">
                <div class="col-md-2 col-md-offset-2">
                    {{ form.camiseta.errors }}
                    <label for="{{ form.camiseta.id_for_label }}">
                        <img src="../static/img/graph-bg.png">
                        <div>Camiseta</div>
                    </label>
                    {% render_field form.camiseta class="form-control" %}
                </div>
                <div class="col-md-2">
                    {{ form.financeiro.errors }}
                    <label for="{{ form.financeiro.id_for_label }}" class="lblDoador">
                        {{ form.financeiro }}
                        <img src="../static/img/graph-bg.png">
                        <div>Dinheiro</div>
                    </label>
                </div>
                <div class="col-md-2">
                    {{ form.vestuario.errors }}
                    <label for="{{ form.vestuario.id_for_label }}" class="lblDoador">
                        {{ form.vestuario }}
                        <img src="../static/img/graph-bg.png">
                        <div>Roupas</div>
                    </label>
                </div>
                <div class="col-md-2">
                    {{ form.alimenticio.errors }}
                    <label for="{{ form.alimenticio.id_for_label }}" class="lblDoador">
                        {{ form.alimenticio }}
                        <img src="../static/img/graph-bg.png">
                        <div>Alimentos</div>
                    </label>
                </div>
            </div>
        </div>

        <label class="col-md-10 col-md-offset-1"><h3>Ficha Médica</h3><hr></label>
        <div class='form-group'>
            {{ form.alergias.errors }}
            <label for="{{ form.alergias.id_for_label }}" class='col-md-2 col-md-offset-1'>Alergias</label>
            <div class='col-md-8'>
                {% render_field form.alergias class+="form-control" %}
                <textarea ng-model='acolhido.alergias' class='form-control'></textarea>
            </div>
        </div>
        <div class='form-group'>
            {{ form.sangue.errors }}
            <label for="{{ form.sangue.id_for_label }}" class='col-md-2 col-md-offset-1'>Tipo Sanguíneo</label>
            <div class='col-md-2'>
                {% render_field form.sangue class="form-control" %}
                <br>
            </div>

            <!-- colocar input group -->
            <label class='col-md-2 text-right'>Já fez aborto?</label>
            <div class="col-md-1">
                <input type="radio">&nbsp;
                <label> Sim</label>
            </div>
            <div class="col-md-1">
                <input type="radio">&nbsp;
                <label> Não</label>
            </div>

            <!--<div class='form-group' ng-if='responsavel.parentesco === "mae"'>
                <label class='col-md-2'>Já sofreu aborto?</label>
                <div class="col-md-1">
                    <input type="checkbox" ng-model='responsavel.aborto'><br>
                </div>
                <label class='col-md-2'>Quantos?</label>
                <div class='col-md-1'>
                    <input type='text' ng-model'responsavel.qtdAbortos' class='form-control'><br>
                </div>
            </div> -->

            <label class='col-md-1 text-right'>Quantos?</label>
            <div class="col-md-1">
                <input type="text" class="form-control" ng-model="acolhido.qtdAborto">
            </div>
        </div>

        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Residência atual</h3><hr></label>
        <div class="form-group">
            {{ form_r.cep.errors }}
            <label for="{{ form_r.cep.id_for_label }}" class="col-md-2 col-md-offset-1">CEP</label>
            <div class="col-md-3">
                <div class="input-group">
                    {% render_field form_r.cep class+="form-control input-cep" id="r_cep"%}
                    <!--<input type="text" ng-model='acolhido.cep' via-cep='cep' class="form-control">-->
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button" id="btnCepR">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form_r.logradouro.errors }}
            <label for="{{ form_r.logradouro.id_for_label }}" class="col-md-2 col-md-offset-1">Endereço</label>
            <div class="col-md-5">
                {% render_field form_r.logradouro class+="form-control" id="r_logradouro"%}
                <!--{{ form_r.logradouro }}-->
                <!--<input type="text" ng-model='acolhido.endereco' class="form-control" via-cep='logradouro'>-->
                <br>
            </div>

            {{ form_r.numero.errors }}
            <label for="{{ form_r.numero.id_for_label }}" class="col-md-1">Número</label>
            <div class="col-md-2">
                {% render_field form_r.numero class+="form-control" id="r_numero" %}
                <!--<input type="text" ng-model='acolhido.numero' class="form-control">-->
                <br>
            </div>
        </div>

        <div class="form-group">
            {{ form_r.complemento.errors }}
            <label for="{{ form_r.complemento.id_for_label }}" class="col-md-2 col-md-offset-1">Complemento</label>
            <div class="col-md-2">
                {% render_field form_r.complemento class+="form-control" id="r_complemento" %}
                <!--<input type="text" ng-model='acolhido.compl' class="form-control">-->
                <br>
            </div>

            {{ form_r.bairro.errors }}
            <label for="{{ form_r.bairro.id_for_label }}" class="col-md-1 col-md-offset-1">Bairro</label>
            <div class="col-md-4">
                {% render_field form_r.bairro class+="form-control" id="r_bairro" %}
                <!--<input type="text" ng-model='acolhido.bairro' class="form-control" via-cep='bairro'>-->
                <br>
            </div>
        </div>

        <div class="form-group">
            {{ form_r.cidade.errors }}
            <label for="{{ form_r.cidade.id_for_label }}" class="col-md-2 col-md-offset-1">Cidade</label>
            <div class="col-md-5">
                {% render_field form_r.cidade class+="form-control" id="r_cidade" %}
                <!--<input type="text" ng-model='acolhido.cidade' class="form-control" via-cep='localidade'>-->
                <br>
            </div>

            {{ form_r.uf.errors }}
            <label for="{{ form_r.uf.id_for_label }}" class="col-md-1">UF</label>
            <div class="col-md-2">
                {% render_field form_r.uf class="form-control" id="r_uf" %}
                <br>
            </div>
        </div>

        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Local de trabalho</h3><hr></label>
        <div class="form-group">
            {{ form_t.empresa.errors }}
            <label for="{{ form_t.empresa.id_for_label }}" class="col-md-2 col-md-offset-1">Nome do local</label>
            <div class="col-md-4">
                {% render_field form_t.empresa class+="form-control" %}
                <br>
            </div>

            {{ form_t.cargo.errors }}
            <label for="{{ form_t.cargo.id_for_label }}" class="col-md-1">Função</label>
            <div class="col-md-3">
                {% render_field form_t.cargo class+="form-control" %} 
                <br>
            </div>
        </div>

        <div class="form-group">
            {{ form_t.cep.errors }}
            <label for="{{ form_t.cep.id_for_label }}" class="col-md-2 col-md-offset-1">CEP</label>
            <div class="col-md-3">
                <div class="input-group">
                    {% render_field form_t.cep class+="form-control" id="t_cep" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button" id="btnCepT">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>

            {{ form_t.salario.errors }}
            <label for="{{ form_t.salario.id_for_label }}" class="col-md-1 col-md-offset-1">Salário</label>
            <div class="col-md-3">
                <div class="input-group">
                    <span class="input-group-addon">R$</span>{% render_field form_t.salario class+="form-control" %}
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form_t.logradouro.errors }}
            <label for="{{ form_t.logradouro.id_for_label }}" class="col-md-2 col-md-offset-1">Endereço</label>
            <div class="col-md-5">
                {% render_field form_t.logradouro class+="form-control" id="t_logradouro" %}
                <br>
            </div>

            {{ form_t.numero.errors }}
            <label for="{{ form_t.numero.id_for_label }}" class="col-md-1">Número</label>
            <div class="col-md-2">
                {% render_field form_t.numero class+="form-control" id="t_numero" %}
                <br>
            </div>
        </div>

        <div class="form-group">
            {{ form_t.complemento.errors }}
            <label for="{{ form_t.complemento.id_for_label }}" class="col-md-2 col-md-offset-1">Complemento</label>
            <div class="col-md-2">
                {% render_field form_t.complemento class+="form-control" id="t_complemento" %}
                <br>
            </div>

            {{ form_t.bairro.errors }}
            <label for="{{ form_t.bairro.id_for_label }}" class="col-md-1 col-md-offset-1">Bairro</label>
            <div class="col-md-4">
                {% render_field form_t.bairro class+="form-control" id="t_bairro" %}
                <br>
            </div>
        </div>

        <div class="form-group">
            {{ form_t.cidade.errors }}
            <label for="{{ form_t.cidade.id_for_label }}" class="col-md-2 col-md-offset-1">Cidade</label>
            <div class="col-md-5">
                {% render_field form_t.cidade class+="form-control" id="t_cidade" %}
                <br>
            </div>

            {{ form_t.uf.errors }}
            <label for="{{ form_t.uf.id_for_label }}" class="col-md-1">UF</label>
            <div class="col-md-2">
                <select class='form-control' ng-model='acolhido.Tuf' ng-options='uf for uf in ufs'>
                    <option value='' ng-disabled='true'>UF</option>
                </select><br>
            </div>
        </div>                                
        <br>
        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Dados jurídicos</h3><hr></label>
        <br>
        <div class="form-group">
            {{ form_j.processo.errors }}
            <label for="{{ form_j.processo.id_for_label }}" class="col-md-2 col-md-offset-1">Nº do processo</label>
            <div class="col-md-4">
                {% render_field form_j.processo class+="form-control input-processo" %}
                <br>
            </div>

            {{ form_j.comarca.errors }}
            <label for="{{ form_j.comarca.id_for_label }}" class="col-md-1">Comarca</label>
            <div class="col-md-3">
                {% render_field form_j.comarca class+="form-control" %}
                <br>
            </div>
        </div>
        <!-- 15ª vara de infância de Suzano, por exemplo -->
        <div class="form-group">
            {{ form_j.nro_vara.errors }}
            <label for="{{ form_j.nro_vara.id_for_label }}" class="col-md-2 col-md-offset-1">Nº da vara</label>
            <div class="col-md-2">
                {% render_field form_j.nro_vara class+="form-control" %}
                <br>
            </div>

            {{ form_j.vara.errors }}
            <label for="{{ form_j.vara.id_for_label }}" class="col-md-1">Vara</label>
            <div class="col-md-5">
                {% render_field form_j.vara class+="form-control" %}
                <br>
            </div>                                        
        </div>
        <br><br>
        <div class="row">
            <div class="col-md-7 text-right">
                <button class="btn btn-primary" type="reset">Limpar</button>
                <button class="btn btn-success" ng-click='cadastrarAcolhido(acolhido)'>Salvar</button>
            </div>
        </div>
    </form>
{% endblock %}