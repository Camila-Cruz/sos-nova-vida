<!-- <script src="../static/src/js/main.js"></script> -->
{% extends 'menu.html'%}
{% load staticfiles %}
{% load widget_tweaks %}

{% block content %}
    <h1>[Angular] Cadastro de Acolhidos</h1>
    <hr><br>
    <form enctype="multipart/form-data" action="post_acolhido/" method="post" class="form-horizontal" name='form'>
        {% csrf_token %}
        {{ form.non_field_errors }}
        <label class="col-md-10 col-md-offset-1"><h3>Dados pessoais</h3><hr></label>
        <div class="form-group">
            {{ form.nome.errors }}
            <label for="{{ form.nome.id_for_label }}" class="col-md-2 col-md-offset-1">Nome completo</label>
            <div class="col-md-8">
                {% render_field form.nome class+="form-control" %}<br>
                <!--<input type="text" ng-model='acolhido.nome' class="form-control">-->
            </div>
        </div>

        <div class="form-group">
            {{ form.data_nasc.errors }}
            <label for="{{ form.data_nasc.id_for_label }}" class="col-md-2 col-md-offset-1">Data de nascimento</label>
            <div class="col-md-3">
                {% render_field form.data_nasc class+="form-control" type="date" %}
            </div>

            {{ form.data_entrada.errors }}
            <label for="{{ form.data_entrada.id_for_label }}" class="col-md-2">Data de entrada</label>
            <div class="col-md-3">
                {% render_field form.data_entrada class+="form-control" type="date" %}<br>
            </div>
        </div>

        <div class="form-group">
            {{ form.cid_natal.errors }}
            <label for="{{ form.cid_natal.id_for_label }}" class="col-md-2 col-md-offset-1">Cidade natal</label>
            <div class="col-md-5">
                {% render_field form.cid_natal class+="form-control" %}
            </div>

            {{ form.uf.errors }}
            <label for="{{ form.uf.id_for_label }}" class="col-md-1">UF</label>
            <div class="col-md-2">
                {% render_field form.uf class+="form-control" %}
                <select class='form-control' ng-model='acolhido.dependente.uf' ng-options='uf.nome for uf in ufs'>
                    <option value='' ng-disabled='true'>UF</option>
                </select><br>
            </div>
        </div>

        <div class="form-group">
            {{ form.nome_mae.errors }}
            <label for="{{ form.nome_mae.id_for_label }}" class="col-md-2 col-md-offset-1">Nome da mãe</label>
            <div class="col-md-8">
                <div class="input-group">
                    {% render_field form.nome_mae class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form.nome_pai.errors }}
            <label for="{{ form.nome_pai.id_for_label }}" class="col-md-2 col-md-offset-1">Nome do pai</label>
            <div class="col-md-8">
                <div class="input-group">
                    {% render_field form.nome_pai class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            {{ form.nome_resp.errors }}
            <label for="{{ form.nome_resp.id_for_label }}" class="col-md-2 col-md-offset-1">Nome do responsável</label>
            <div class="col-md-8">
                <div class="input-group">
                    {% render_field form.nome_resp class+="form-control" %}
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>
        <!-- Não esquecer de adicionar cada campo no forms.py, senão não aparece na tela -->
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Grau de parentesco</label>
            <div class="col-md-3">
                <select class='form-control' ng-model='acolhido.dependente.parentesco'><br>
                    <option value='mae'>MÃE</option>
                    <option value='pai'>PAI</option>
                    <option value='filho'>FILHO(A)</option>
                    <option value='sobrinho'>SOBRINHO(A)</option>
                    <option value='' ng-disabled='true'>NENHUM</option>
                </select><br>
            </div>
        </div>

        <div class="form-group">    <!-- Analisar o maxlength na model e a interferência dele aqui -->
            {{ form.cpf.errors }}
            <label for="{{ form.cpf.id_for_label }}" class="col-md-2 col-md-offset-1">CPF</label>
            <div class="col-md-2">
                {% render_field form.cpf class+="form-control input-cpf" %}
            </div>

            {{ form.rg.errors }}
            <label for="{{ form.rg.id_for_label }}" class="col-md-1">RG</label>
            <div class="col-md-2">
                {% render_field form.rg class+="form-control" %}
            </div>

            <!-- Órgão emissor -->
            {{ form.ssp.errors }}
            <label for="{{ form.ssp.id_for_label }}" class="col-md-1">SSP</label>
            <div class="col-md-2">
                {% render_field form.ssp class+="form-control" %}
            </div>
        </div><br>

        <div class="form-group">
            {{ form.renda.errors }}
            <label for="{{ form.renda.id_for_label }}" class="col-md-2 col-md-offset-1">Renda mensal</label>
            <div class="col-md-3">
                <div class="input-group">
                    <span class="input-group-addon">R$</span>{% render_field form.renda class+="form-control" %}
                </div>
            </div>

            <label class="col-md-1 col-md-offset-1">Sexo</label>
            <div class="col-md-3"> <!-- colocar input group -->
                <input type="radio" name="radioSexo">&nbsp;
                <label> Feminino</label>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="radioSexo">&nbsp;
                <label> Masculino</label>
            </div>
        </div>

        <label class="col-md-10 col-md-offset-1"><h3>Vestimentas</h3><hr></label>
        <div class="form-group">
            {{ form.camiseta.errors }}
            <label for="{{ form.camiseta.id_for_label }}" class="col-md-1 col-md-offset-1">Camiseta</label>
            <div class="col-md-1">
                {% render_field form.camiseta class+="form-control" %}
                <input type='text' ng-model='acolhido.tamCamiseta' class='form-control'>
            </div>
            {{ form.calca.errors }}
            <label for="{{ form.calca.id_for_label }}" class="col-md-1">Calça</label>
            <div class="col-md-1">
                {% render_field form.calca class+="form-control" %}
                <input type='text' ng-model='acolhido.tamCalca' class='form-control'>
            </div>
            {{ form.intima.errors }}
            <label for="{{ form.intima.id_for_label }}" class='col-md-2'>Roupa íntima</label>
            <div class='col-md-1'>
                {% render_field form.intima class+="form-control" %}
                <input type='text' ng-model='acolhido.tamIntima' class='form-control'>
            </div>
            {{ form.calcado.errors }}
            <label for="{{ form.calcado.id_for_label }}" class='col-md-1'>Calçado</label>
            <div class='col-md-1'>
                {% render_field form.calcado class+="form-control" %}
                <input type='text' ng-model='acolhido.tamSapato' class='form-control'>
            </div>
        </div>

        <label class="col-md-10 col-md-offset-1"><h3>Ficha Médica</h3><hr></label>
        <div class='form-group'>
            {{ form.alergias.errors }}
            <label for="{{ form.alergias.id_for_label }}" class='col-md-2 col-md-offset-1'>Alergias</label>
            <div class='col-md-8'>
                {% render_field form.alergias class+="form-control" %}
                <textarea ng-model='acolhido.alergias' class='form-control'></textarea>
            </div>
        </div>
        <div class='form-group'>
            {{ form.etc.errors }}
            <label class='col-md-2 col-md-offset-1'>Tipo Sanguíneo</label>
            <div class='col-md-2'>
                <select class='form-control' ng-model='acolhido.tipoSanguineo'>
                    <option value='desconhecido'>Desconhecido</option>
                    <option value='A-'>A-</option>
                    <option value='A+'>A+</option>
                    <option value='B-'>B-</option>
                    <option value='B-'>B+</option>
                    <option value='AB-'>AB-</option>
                    <option value='AB+'>AB+</option>
                    <option value='O-'>O-</option>
                    <option value='O+'>O+</option>
                </select><br>
            </div>

            <!-- colocar input group -->
            <label class='col-md-2 text-right'>Já fez aborto?</label>
            <div class="col-md-1">
                <input type="radio">&nbsp;
                <label> Sim</label>
            </div>
            <div class="col-md-1">
                <input type="radio">&nbsp;
                <label> Não</label>
            </div>

            <!--<div class='form-group' ng-if='responsavel.parentesco === "mae"'>
                <label class='col-md-2'>Já sofreu aborto?</label>
                <div class="col-md-1">
                    <input type="checkbox" ng-model='responsavel.aborto'><br>
                </div>
                <label class='col-md-2'>Quantos?</label>
                <div class='col-md-1'>
                    <input type='text' ng-model'responsavel.qtdAbortos' class='form-control'><br>
                </div>
            </div> -->

            <label class='col-md-1 text-right'>Quantos?</label>
            <div class="col-md-1">
                <input type="text" class="form-control" ng-model="acolhido.qtdAborto">
            </div>
        </div>

        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Residência atual</h3><hr></label>
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">CEP</label>
            <div class="col-md-3">
                <div class="input-group">
                    <input type="text" ng-model='acolhido.cep' via-cep='cep' class="form-control">
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div><br>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Endereço</label>
            <div class="col-md-5">
                <input type="text" ng-model='acolhido.endereco' class="form-control" via-cep='logradouro'><br>
            </div>

            <label class="col-md-1">Número</label>
            <div class="col-md-2">
                <input type="text" ng-model='acolhido.numero' class="form-control"><br>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Complemento</label>
            <div class="col-md-2">
                <input type="text" ng-model='acolhido.compl' class="form-control"><br>
            </div>

            <label class="col-md-1 col-md-offset-1">Bairro</label>
            <div class="col-md-4">
                <input type="text" ng-model='acolhido.bairro' class="form-control" via-cep='bairro'><br>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Cidade</label>
            <div class="col-md-5">
                <input type="text" ng-model='acolhido.cidade' class="form-control" via-cep='localidade'><br>
            </div>

            <label class="col-md-1">UF</label>
            <div class="col-md-2">
                <select class='form-control' ng-model='acolhido.uf' ng-options='uf for uf in ufs'>
                    <option value='' ng-disabled='false'>UF</option>
                </select><br>
            </div>
        </div>

        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Local de trabalho</h3><hr></label>
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Nome do local</label>
            <div class="col-md-4">
                <input type="text" ng-model='acolhido.empresa' class="form-control"><br>
            </div>

            <label class="col-md-1">Função</label>
            <div class="col-md-3">
                <input type="text" ng-model='acolhido.cargo' class="form-control"><br>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">CEP</label>
            <div class="col-md-3">
                <div class="input-group">
                    <input type="text" ng-model='acolhido.Tcep' via-cep='cep' class="form-control">
                    <div class="input-group-btn">
                        <button class="btn btn-default btn-input-group" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </div>
            </div>

            <label class="col-md-1 col-md-offset-1">Salário</label>
            <div class="col-md-3">
                <div class="input-group">
                    <span class="input-group-addon">R$</span><input type="text" ng-model='acolhido.salario' class="form-control">
                </div>
            </div>
        </div><br>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Endereço</label>
            <div class="col-md-5">
                <input type="text" ng-model='acolhido.Tendereco' via-cep='logradouro' class="form-control"><br>
            </div>

            <label class="col-md-1">Número</label>
            <div class="col-md-2">
                <input type="text" ng-model='acolhido.Tnumero' class="form-control"><br>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Complemento</label>
            <div class="col-md-2">
                <input type="text" ng-model='acolhido.Tcompl' class="form-control"><br>
            </div>

            <label class="col-md-1 col-md-offset-1">Bairro</label>
            <div class="col-md-4">
                <input type="text" ng-model='acolhido.Tbairro' via-cep='bairro' class="form-control"><br>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Cidade</label>
            <div class="col-md-5">
                <input type="text" ng-model='acolhido.Tcidade' via-cep='localidade' class="form-control"><br>
            </div>

            <label class="col-md-1">UF</label>
            <div class="col-md-2">
                <select class='form-control' ng-model='acolhido.Tuf' ng-options='uf for uf in ufs'>
                    <option value='' ng-disabled='true'>UF</option>
                </select><br>
            </div>
        </div>                                
        <br>
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Nº do processo</label>
            <div class="col-md-3">
                <input type="text" ng-model='acolhido.processo' class="form-control"><br>
            </div>

            <label class="col-md-1">Comarca</label>
            <div class="col-md-4">
                <input type="text" ng-model='acolhido.comarca' class="form-control"><br>
            </div>
        </div>
        <hr>
        <label class="col-md-10 col-md-offset-1"><h3>Dados jurídicos</h3><hr></label>
        <br>
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Nº do processo</label>
            <div class="col-md-3">
                <input type="text" ng-model='acolhido.processo' class="form-control"><br>
            </div>

            <label class="col-md-1">Comarca</label>
            <div class="col-md-4">
                <input type="text" ng-model='acolhido.comarca' class="form-control"><br>
            </div>
        </div>
        <!-- 15ª vara de infância de Suzano, por exemplo -->
        <div class="form-group">
            <label class="col-md-2 col-md-offset-1">Nº da vara</label>
            <div class="col-md-2">
                <input type="text" ng-model='acolhido.numVara' class="form-control"><br>
            </div>

            <label class="col-md-1">Vara</label>
            <div class="col-md-5">
                <input type="text" ng-model='acolhido.vara' class="form-control"><br>
            </div>                                        
        </div>
        <br><br>
        <div class="row">
            <div class="col-md-7 text-right">
                <button class="btn btn-primary" type='reset'>Limpar</button>
                <button class="btn btn-success" ng-click='cadastrarAcolhido(acolhido)'>Salvar</button>
            </div>
        </div>
    </form>

    <!-- ///////////////////////////////////////////////////////////////////////- -->
    <h1>[Python] Cadastro de acolhidos</h1><hr><br>
    <form enctype="multipart/form-data" action="post_acolhido/" method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="row">
            <div class="col-md-8">
                {{ form.nome.errors }}
                <label for="{{ form.nome.id_for_label }}">Nome completo</label><br>
                {{ form.nome }}<br>
                <div class="row">
                    <div class="col-md-6">
                        {{ form.data_nasc.errors }}
                        <label for="{{ form.data_nasc.id_for_label }}">Data de nascimento</label><br>
                        {{ form.data_nasc }}
                    </div>
                    <div class="col-md-offset-1 col-md-5">
                        {{ form.data_entrada.errors }}
                        <label for="{{ form.data_entrada.id_for_label }}">Data de entrada</label><br>
                        {{ form.data_entrada }}<br>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-9">
                        {{ form.local_nasc.errors }}
                        <label for="{{ form.local_nasc.id_for_label }}">Local de nascimento</label><br>
                        {{ form.local_nasc }}
                    </div>
                    <div class="col-md-offset-1 col-md-2">
                        
                        <label for="{{ form.uf.id_for_label }}">UF</label><br>
                        
                    </div>
                </div>
            </div>
            <div class="col-md-offset-1 col-md-2">
                {{ form.imagem.errors }}
                <label for="{{ form.imagem.id_for_label }}">Foto</label><br>
                <div class="fileinput fileinput-new" data-provides="fileinput">
                    <div class="fileinput-preview thumbnail" data-trigger="fileinput" style="width: 240px; height: 180px;"></div>
                    <div>
                        <span class="btn btn-default btn-file">
                            <span class="fileinput-new">Selecione a imagem</span>
                            <span class="fileinput-exists">Alterar</span>
                            {{ form.imagem }}
                            <!-- <input type="file" name="..."> -->
                        </span>
                        <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remover</a>
                    </div>
                </div><br>
            </div><br>
        </div>

        <div class="row">
            <div class="col-md-9">
                {{ form.nome_mae.errors }}
                <label for="{{ form.nome_mae.id_for_label }}">Nome da mãe</label><br>
                {{ form.nome_mae }}
            </div>
            <div class="col-md-offset-1 col-md-2">
                <br><input type="checkbox">
                <label>Responsável</label><br><br>
            </div>
        </div>

        <div class="row">
            <div class="col-md-9">
                {{ form.nome_pai.errors }}
                <label for="{{ form.nome_pai.id_for_label }}">Nome do pai</label><br>
                {{ form.nome_pai }}
            </div>
            <div class="col-md-offset-1 col-md-2">
                <br><input type="checkbox">
                <label>Responsável</label><br><br>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                {{ form.nome_resp.errors }}
                <label for="{{ form.nome_resp.id_for_label }}">Nome do responsável</label><br>
                {{ form.nome_resp }}<br><br>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-right">
                <button class="btn btn-primary" type="reset">Limpar</button> <button type="submit" class="btn btn-success">Salvar</button>
            </div>
        </div>
    </form>
{% endblock %}